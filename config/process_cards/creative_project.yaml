# Creative Project Process Card
# –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ –¥–ª—è —Ç–≤–æ—Ä—á–µ—Å–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –∫–æ–º–∞–Ω–¥—ã AI_TEAM
#
# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:
# - –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ñ–∏–ª—å–º–æ–≤/—Å–µ—Ä–∏–∞–ª–æ–≤
# - –ë–∏–∑–Ω–µ—Å-–ø–ª–∞–Ω—ã –∏ —Å—Ç–∞—Ä—Ç–∞–ø-–∏–¥–µ–∏
# - –°—é–∂–µ—Ç—ã –∫–Ω–∏–≥
# - –ö–æ–Ω—Ü–µ–ø—Ü–∏–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
# - –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
#
# –ö–æ–º–∞–Ω–¥–∞:
# üîç –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å ‚Üí üí° –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏–¥–µ–π ‚Üí ‚úçÔ∏è –ê–≤—Ç–æ—Ä (–ü—É—à–∫–∏–Ω) ‚Üí üéØ –ö—Ä–∏—Ç–∏–∫ ‚Üí ‚ú® –†–µ–¥–∞–∫—Ç–æ—Ä
#
# See: docs/SSOT/PROCESS_CARD_SPEC_v1.0.md

name: "creative_project"
version: "1.0.0"
description: "–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –¥–ª—è —Ç–≤–æ—Ä—á–µ—Å–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤: –æ—Ç –∏–¥–µ–∏ –¥–æ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞"

# –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è UI –∏ –æ—Ç—á—ë—Ç–æ–≤
metadata:
  display_name: "–¢–≤–æ—Ä—á–µ—Å–∫–∏–π –ø—Ä–æ–µ–∫—Ç"
  category: "creative"
  estimated_time_minutes: 15
  team_size: 5
  tags:
    - creative
    - writing
    - ideation
    - business

# –í—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (—á—Ç–æ –∑–∞–¥–∞—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
input:
  project_type:
    type: "string"
    required: true
    description: "–¢–∏–ø –ø—Ä–æ–µ–∫—Ç–∞"
    enum:
      - "scenario"        # –°—Ü–µ–Ω–∞—Ä–∏–π —Ñ–∏–ª—å–º–∞/—Å–µ—Ä–∏–∞–ª–∞
      - "business_plan"   # –ë–∏–∑–Ω–µ—Å-–ø–ª–∞–Ω
      - "book_plot"       # –°—é–∂–µ—Ç –∫–Ω–∏–≥–∏
      - "product_concept" # –ö–æ–Ω—Ü–µ–ø—Ü–∏—è –ø—Ä–æ–¥—É–∫—Ç–∞
      - "marketing"       # –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
      - "custom"          # –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π

  topic:
    type: "string"
    required: true
    description: "–¢–µ–º–∞/–∏–¥–µ—è –ø—Ä–æ–µ–∫—Ç–∞"

  target_audience:
    type: "string"
    required: false
    description: "–¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è"

  constraints:
    type: "string"
    required: false
    description: "–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è"

  output_format:
    type: "string"
    required: false
    default: "detailed"
    enum: ["brief", "detailed", "full"]
    description: "–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞"

# –®–∞–≥–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞
steps:
  # ============================================
  # –®–ê–ì 1: –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
  # ============================================
  - id: "research"
    name: "–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ç–µ–º—ã"
    description: "–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å —Å–æ–±–∏—Ä–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é: —Ä—ã–Ω–æ–∫, –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã, –ø—Ä–∏–º–µ—Ä—ã, —Ç—Ä–µ–Ω–¥—ã"

    capability: "research_topic"
    agent_role: "researcher"

    input:
      topic: "{{input.topic}}"
      depth: "medium"
      focus_areas:
        - "market_overview"
        - "competitors"
        - "trends"
        - "audience"
        - "success_examples"

    timeout_seconds: 180
    retry:
      max_attempts: 2
      backoff_seconds: 10

    output:
      research_data: "–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è"

  # ============================================
  # –®–ê–ì 2: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–¥–µ–π
  # ============================================
  - id: "ideation"
    name: "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ü–µ–ø—Ü–∏–π"
    description: "–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏–¥–µ–π —Å–æ–∑–¥–∞—ë—Ç –≤–∞—Ä–∏–∞–Ω—Ç—ã –∫–æ–Ω—Ü–µ–ø—Ü–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è"

    capability: "generate_ideas"
    agent_role: "ideator"

    depends_on:
      - "research"

    input:
      topic: "{{input.topic}}"
      context: "{{steps.research.output.research_data}}"
      count: 3
      style: "diverse"

    timeout_seconds: 120

    output:
      ideas: "–°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ü–µ–ø—Ü–∏–π"

  # ============================================
  # –®–ê–ì 3: –û—Ü–µ–Ω–∫–∞ –∏–¥–µ–π –ö—Ä–∏—Ç–∏–∫–æ–º
  # ============================================
  - id: "idea_evaluation"
    name: "–û—Ü–µ–Ω–∫–∞ –∫–æ–Ω—Ü–µ–ø—Ü–∏–π"
    description: "–ö—Ä–∏—Ç–∏–∫ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –∏–¥–µ–∏ –∏ –≤—ã–±–∏—Ä–∞–µ—Ç –ª—É—á—à—É—é"

    capability: "compare_options"
    agent_role: "critic"

    depends_on:
      - "ideation"

    input:
      options: "{{steps.ideation.output.ideas}}"
      criteria:
        - "originality"
        - "feasibility"
        - "market_fit"
        - "audience_appeal"

    timeout_seconds: 90

    output:
      selected_idea: "–í—ã–±—Ä–∞–Ω–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è"
      evaluation: "–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –≤—ã–±–æ—Ä–∞"

  # ============================================
  # –®–ê–ì 4: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ê–≤—Ç–æ—Ä–æ–º
  # ============================================
  - id: "content_creation"
    name: "–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞"
    description: "–ê–≤—Ç–æ—Ä (–ü—É—à–∫–∏–Ω) —Å–æ–∑–¥–∞—ë—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏"

    capability: "write_article"
    agent_role: "writer"

    depends_on:
      - "idea_evaluation"

    input:
      topic: "{{steps.idea_evaluation.output.selected_idea}}"
      style: "creative"
      context:
        research: "{{steps.research.output.research_data}}"
        evaluation: "{{steps.idea_evaluation.output.evaluation}}"
        project_type: "{{input.project_type}}"
        audience: "{{input.target_audience}}"

    timeout_seconds: 300

    output:
      draft: "–ß–µ—Ä–Ω–æ–≤–∏–∫ –∫–æ–Ω—Ç–µ–Ω—Ç–∞"

  # ============================================
  # –®–ê–ì 5: –ö—Ä–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
  # ============================================
  - id: "content_review"
    name: "–û—Ü–µ–Ω–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞"
    description: "–ö—Ä–∏—Ç–∏–∫ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞"

    capability: "review_content"
    agent_role: "critic"

    depends_on:
      - "content_creation"

    input:
      content: "{{steps.content_creation.output.draft}}"
      context: "–ü—Ä–æ–µ–∫—Ç —Ç–∏–ø–∞ '{{input.project_type}}' –¥–ª—è –∞—É–¥–∏—Ç–æ—Ä–∏–∏ '{{input.target_audience}}'"
      criteria:
        - "clarity"
        - "structure"
        - "engagement"
        - "completeness"
        - "originality"

    timeout_seconds: 90

    output:
      feedback: "–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å"
      score: "–û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞"
      verdict: "–ü–†–ò–ù–Ø–¢–û / –î–û–†–ê–ë–û–¢–ê–¢–¨"

  # ============================================
  # –®–ê–ì 6: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (—É—Å–ª–æ–≤–Ω—ã–π)
  # ============================================
  - id: "editing"
    name: "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ"
    description: "–†–µ–¥–∞–∫—Ç–æ—Ä —É–ª—É—á—à–∞–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏"

    capability: "edit_content"
    agent_role: "editor"

    depends_on:
      - "content_review"

    # –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –í–°–ï–ì–î–ê ‚Äî —Ä–µ–¥–∞–∫—Ç–æ—Ä —É–ª—É—á—à–∞–µ—Ç –¥–∞–∂–µ —Ö–æ—Ä–æ—à–∏–π —Ç–µ–∫—Å—Ç
    # (—Ä–∞–Ω—å—à–µ –±—ã–ª–æ: condition: "{{steps.content_review.output.verdict}} == '–î–û–†–ê–ë–û–¢–ê–¢–¨'")

    input:
      content: "{{steps.content_creation.output.draft}}"
      feedback: "{{steps.content_review.output.feedback}}"
      preserve_voice: true

    timeout_seconds: 180

    output:
      edited_content: "–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç"

  # ============================================
  # –®–ê–ì 7: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
  # ============================================
  - id: "final_review"
    name: "–§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞"
    description: "–ö—Ä–∏—Ç–∏–∫ –¥–∞—ë—Ç —Ñ–∏–Ω–∞–ª—å–Ω—É—é –æ—Ü–µ–Ω–∫—É"

    capability: "review_content"
    agent_role: "critic"

    depends_on:
      - "editing"

    input:
      content: "{{steps.editing.output.edited_content}}"
      context: "–§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π"

    timeout_seconds: 60

    output:
      final_score: "–§–∏–Ω–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞"
      ready_for_publish: "–ì–æ—Ç–æ–≤–æ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (true/false)"

# –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å–∞
output:
  final_content: "{{steps.editing.output.edited_content}}"
  research_summary: "{{steps.research.output.research_data}}"
  selected_concept: "{{steps.idea_evaluation.output.selected_idea}}"
  quality_score: "{{steps.final_review.output.final_score}}"
  process_metrics:
    steps_completed: 7
    agents_involved:
      - "–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å"
      - "–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏–¥–µ–π"
      - "–ê–≤—Ç–æ—Ä (–ü—É—à–∫–∏–Ω)"
      - "–ö—Ä–∏—Ç–∏–∫"
      - "–†–µ–¥–∞–∫—Ç–æ—Ä"

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
error_handling:
  on_step_failure:
    - action: "retry"
      max_attempts: 2
    - action: "notify"
      message: "–®–∞–≥ {{step.name}} –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –æ—à–∏–±–∫–æ–π"
    - action: "escalate"
      to: "human"

  on_timeout:
    action: "abort"
    message: "–ü—Ä–æ—Ü–µ—Å—Å –ø—Ä–µ–≤—ã—Å–∏–ª –ª–∏–º–∏—Ç –≤—Ä–µ–º–µ–Ω–∏"

  on_quality_failure:
    condition: "{{steps.final_review.output.final_score}} < 6"
    action: "iterate"
    max_iterations: 2
    restart_from: "content_creation"

# –õ–∏–º–∏—Ç—ã —Ä–µ—Å—É—Ä—Å–æ–≤
limits:
  max_total_time_seconds: 900  # 15 –º–∏–Ω—É—Ç
  max_cost_usd: 2.00
  max_iterations: 3
